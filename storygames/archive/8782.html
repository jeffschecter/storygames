<h1>[Troll] Any Troll experts in the house?  Help!</h1><div class="Item ItemDiscussion" id="Discussion_8782">\n<div class="Discussion">\n<div class="Item-Header DiscussionHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta DiscussionMeta">\n<span class="MItem DateCreated">\n<a class="Permalink" href="http://story-games.com/forums/discussion/8782/troll-any-troll-experts-in-the-house-help" rel="nofollow"><time datetime="2009-02-25T17:38:28+00:00" title="February 25, 2009  5:38PM">February 2009</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited February 25, 2009 5:38PM by fnord3125.">edited February 2009</span> </span> <span class="MItem Category"> in <a href="http://story-games.com/forums/categories/game-design-help">Game Design Help</a></span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                    I've been trying to work out probabilities using the program Troll and some of the stuff I'm trying to do is a little weird and I'm having a great deal of trouble trying to figure out how to build a proper Troll expression for it.<br/><br/>Is there anyone out there who's good with this thing that might be able to give me some assistance?<br/><br/>Thanks!                </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</div><li class="Item Alt ItemComment" id="Comment_194370">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194370/#Comment_194370" name="Item_1" rel="nofollow"><time datetime="2009-02-26T08:10:01+00:00" title="February 26, 2009  8:10AM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            oh.  i should have put this in my original post.<br/><a href="http://www.diku.dk/hjemmesider/ansatte/torbenm/Troll/" rel="nofollow">Troll can be found here.</a> </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194426">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194426/#Comment_194426" name="Item_2" rel="nofollow"><time datetime="2009-02-26T10:17:09+00:00" title="February 26, 2009 10:17AM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            fnord, what precisely are you trying to do?  No one can help you if we don't know what the problem is.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194431">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194431/#Comment_194431" name="Item_3" rel="nofollow"><time datetime="2009-02-26T10:27:47+00:00" title="February 26, 2009 10:27AM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            True enough.  One person offered help in a whisper, and I described my issue in a whisper back.<br/><br/>My current big issue is trying to figure out how to make it count matches.  Kind of like in an ORE roll, though I'll probably be using d4s (if I end up using this mechanic at all... but whether or not I want to depends greatly on the probabilities involved, so...).<br/><br/>The other thing I was struggling with was a system in which if a die rolls its maximum value, a die one size larger is rolled.  So if you start with a d4 and it rolls a 4, then a d6 is rolled, if that rolls a 6, move up to a d8 and so on up to a max of d20.  I figured out how to get the probabilities for this, start with a d4 roll (so i can extrapolate to get the probabilities if i started with a different size) though I'm not sure I did it in the best possible way.<br/><br/>but the matches is the real thing I'm totally confused on.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194473">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194473/#Comment_194473" name="Item_4" rel="nofollow"><time datetime="2009-02-26T11:49:49+00:00" title="February 26, 2009 11:49AM">February 2009</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited February 26, 2009 12:08PM by ccreitz.">edited February 2009</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            For basic ORE, matches are pretty easy.  To model width, just say (supposing you're rolling 6d4):<br/><br/><code>c := 6d4; max (foreach x in 1..4 do count (x = c))</code><br/><br/>Height can just be modeled as a single die, since it's going to be uniformly distributed.<br/><br/>Edit: fixed my example to match your specification of 4-sided dice.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194493">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194493/#Comment_194493" name="Item_5" rel="nofollow"><time datetime="2009-02-26T12:23:26+00:00" title="February 26, 2009 12:23PM">February 2009</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited February 26, 2009 1:57PM by ccreitz.">edited February 2009</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Is there any special reason you have to use Troll for this?  If not, then I would just use a more expressive language to script up your dice behavior, roll a ton of dice into a text file, and then analyze that.  For instance, the Perl one-liner:<br/><code><br/>perl -e "@dice = (4, 6, 8, 10, 12, 20); $result = 1 + int(rand($dice[$die++])) while $result == $dice[$die-1] || $result == 0; print qq($result\\n);"<br/></code><br/>...rolls one of your complicated dice described in that second paragraph, the ones that grow on a max result.  You could wrap a loop around the whole thing, either in Perl or in your shell, and then capture the output in a text file and analyze however you like, say with a spreadsheet program.  In Windows, at a command prompt (assuming that you've installed Perl and it's on your execution path):<br/><code><br/>for /l %i in (1, 1, 65538) do perl -e "@dice = (4, 6, 8, 10, 12, 20); $result = 1 + int(rand($dice[$die++])) while $result == $dice[$die-1] || $result == 0; print qq($result\\n);" &gt;&gt; output.txt<br/></code><br/>After this, output.txt (assuming it was blank or nonexistent before you started) will have 64k numbers generated according to your procedure.<br/><br/>(Edit: To be clear, if you roll a 20 on the d20 after a max explosion, my implementation outputs a 0.)                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194502">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194502/#Comment_194502" name="Item_6" rel="nofollow"><time datetime="2009-02-26T12:44:05+00:00" title="February 26, 2009 12:44PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n<blockquote><cite>Posted By: ccreitz</cite>Is there any special reason you have to use Troll for this?</blockquote>No, but I'm not a programmer, and from my (admittedly limited) research, it seemed that Troll was the most flexible dice probability calculator out there.<br/><br/>And the second thing I described I actually figured out how to do in Troll anyway.  At least, in a way that's good enough for my purposes.\n<blockquote><cite>Posted By: ccreitz</cite>For basic ORE, matches are pretty easy.  To model width, just say (supposing you're rolling 6d4):<br/><br/><code>c := 6d4; max (foreach x in 1..4 do count (x = c))</code><br/><br/>Height can just be modeled as a single die, since it's going to be uniformly distributed.<br/></blockquote>Thanks!  See, that block of code confuses the hell out of me.  <img alt=":)" class="emoji" height="20" src="/forums/resources/emoji/smile.png" title=":)"/>  I tried to figure how the 'foreach' business from the manual, but it just didn't click for me at all.  So I still don't really understand what that will actually do.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194532">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194532/#Comment_194532" name="Item_7" rel="nofollow"><time datetime="2009-02-26T13:45:25+00:00" title="February 26, 2009  1:45PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Please share what you did to model your second thing in Troll.  Now I am curious!                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194540">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194540/#Comment_194540" name="Item_8" rel="nofollow"><time datetime="2009-02-26T13:53:52+00:00" title="February 26, 2009  1:53PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Oh, also, what "foreach" does.  It binds x in turn to each value in the collection (1 2 3 4), and then does whatever comes after "do" - in this case, counts the number of elements in c that are equal to the current value of x.  So, in outline:<br/><br/>First, statement 1, "c := 6d4;" We initialize c with a collection of six values, each the result of a d4 roll.  Example: (1 2 2 4 4 4)<br/><br/>Next, statement 2, the rest of the line.  The innermost operator is actually "1..4", which initializes an anonymous collection to (1 2 3 4).  Then, the "foreach... do...".  Create a variable x and set it to each element of the anonymous collection in turn, so let's start with 1; then, do the thing after "do", which in this case is counting all the ones in c (because we're looking for x=c): that's 1. So the first element in the collection to be returned by "foreach" is 1.  Next, set x := 2.  Do the count: 2.  The second element returned becomes 2.  Next, x:=3, resulting in 0, and then x:=4, result 3.  "Foreach" then returns its collection, (1, 2, 0, 3).  "Max" then returns the biggest element, 3.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194543">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194543/#Comment_194543" name="Item_9" rel="nofollow"><time datetime="2009-02-26T13:59:42+00:00" title="February 26, 2009  1:59PM">February 2009</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited February 26, 2009 2:00PM by ccreitz.">edited February 2009</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n<blockquote><cite>Posted By: fnord3125</cite><cite>Posted By: ccreitz</cite>Is there any special reason you have to use Troll for this?</blockquote>No, but I'm not a programmer, and from my (admittedly limited) research, it seemed that Troll was the most flexible dice probability calculator out there.<br/>I assure you that, for complicated dice schemes, you will find it easier to learn just enough Perl (or Basic, or Excel formula fu, whatever) than you will to get Troll to do what you want.  Troll is a "toy language", q.v.  If you want to engage its analytical features, you'd be better off using another tool to generate your list of results and then troll -0 to analyze the result file.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194619">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194619/#Comment_194619" name="Item_10" rel="nofollow"><time datetime="2009-02-26T15:07:14+00:00" title="February 26, 2009  3:07PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n<blockquote><cite>Posted By: ccreitz</cite>Please share what you did to model your second thing in Troll.  Now I am curious!</blockquote>Sure.  Like I said, I'm not sure if it's a good way to do it.  It might even be the wrong (that is, producing flawed probabilities) way to do it.  But it seemed like it worked okay.<br/><code>u:=d4; v:=d6; w:=d8; x:=d10; y:=d12; z:=d20;<br/>if 4=u then (if 6=v then (if 8=w then (if 10=x then (if 12=y then z else y) else x) else w) else v) else u</code>\n<blockquote><cite>Posted By: ccreitz</cite>I assure you that, for complicated dice schemes, you will find it easier to learn just enough Perl (or Basic, or Excel formula fu, whatever) than you will to get Troll to do what you want.  Troll is a "toy language", q.v.  If you want to engage its analytical features, you'd be better off using another tool to generate your list of results and then troll -0 to analyze the result file.</blockquote>You may very well be right.  How do you use Troll to analyze a file generated with another system?                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194620">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194620/#Comment_194620" name="Item_11" rel="nofollow"><time datetime="2009-02-26T15:09:12+00:00" title="February 26, 2009  3:09PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            oh and thanks for the breakdown of your match-counting code.  My brain isn't in a good place to think about this stuff right now, but once it is, I'll read it more thoroughly.  My biggest problem with Troll so far has been my difficulty in understanding the manual.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194685">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194685/#Comment_194685" name="Item_12" rel="nofollow"><time datetime="2009-02-26T18:05:55+00:00" title="February 26, 2009  6:05PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n<blockquote><cite>Posted By: fnord3125</cite><cite>Posted By: ccreitz</cite> Troll is a "toy language", q.v.  If you want to engage its analytical features, you'd be better off using another tool to generate your list of results and then troll -0 to analyze the result file.</blockquote>You may very well be right.  How do you use Troll to analyze a file generated with another system?troll -0 <img alt=":)" class="emoji" height="20" src="/forums/resources/emoji/smile.png" title=":)"/> There is a page in the manual on using external data sets, I think. But the manual sucks, as you already pointed out. Reconsidering, I would just use a spreadsheet (or perl) both to generate the rolls and do the analysis.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194693">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194693/#Comment_194693" name="Item_13" rel="nofollow"><time datetime="2009-02-26T19:01:59+00:00" title="February 26, 2009  7:01PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Did my code block look like a reasonable way to get accurate probability of my weird die roll?                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194702">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194702/#Comment_194702" name="Item_14" rel="nofollow"><time datetime="2009-02-26T20:31:59+00:00" title="February 26, 2009  8:31PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            also, I've been doing some thinking and I realized that with that roll that bumps up to the next size die if one maxes that I may way to treat them as open-ended dice: that is, if I roll a 4 on my d4, I then roll a d6 and add it to the 4.  Any suggestions on how to do this?<br/>I think one of my good friends may know Perl.  Maybe I should just ask him about this.  <img alt=":)" class="emoji" height="20" src="/forums/resources/emoji/smile.png" title=":)"/>  I'm starting to think Troll may not be worth the trouble.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194708">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194708/#Comment_194708" name="Item_15" rel="nofollow"><time datetime="2009-02-26T21:46:32+00:00" title="February 26, 2009  9:46PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            I am pretty sure that both of your options are also quite tractable for an exact solution. If I get a chance tomorrow I will try to walk through that.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194715">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194715/#Comment_194715" name="Item_16" rel="nofollow"><time datetime="2009-02-27T00:32:13+00:00" title="February 27, 2009 12:32AM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Oh... yeah... actually, I think I could solve the question I just asked about by changing each of my variable assignments so that, for example v:=d6+4 and then the if clause checked if v=10 instead of 6.<br/>But maybe that's the alcohol talking.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194789">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194789/#Comment_194789" name="Item_17" rel="nofollow"><time datetime="2009-02-27T11:52:17+00:00" title="February 27, 2009 11:52AM">February 2009</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited February 27, 2009 12:01PM by ccreitz.">edited February 2009</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Your complicated dice:<br/>12-20 can only come up on the d20 after maxing out all the other dice.  Probability of maxing out the whole sequence:<br/>1/4 * 1/6 * 1/8 * 1/10 * 1/12 = 1/23040<br/><br/>Each of those numbers then has a 1/20 chance of coming up: 1/20 * 1/23040 = 1/460800<br/><br/>10-11 can come up on a d20 after a long sequence (that is, probability 1/460800), or on the d12 after a slightly less long sequence:<br/>1/4 * 1/6 * 1/8 * 1/10 = 1/1920<br/><br/>Each of those numbers then has a 1/12 chance of coming up on the d12: 1/1920 * 1/12 = 1/23040.  Add that to the chance of it coming up on the d20 for a total chance of 21/460800.<br/><br/>Same logic for 8-9, which have a 21/460800 chance of showing up on the d12 or d20, plus 1/1920 on the d10, 261/460800 total odds.<br/><br/>6-7 are 261/460800 likely to result on a roll of a d10, d12, or d20, plus they can also occur on the d8 with probability 1/192, for a total of 2661/460800, which is just a hair over half a percent, for the record.<br/><br/>4-5 are 2661/460800 likely to occur on a die of d8 or larger, plus their incidence of 1/24 on a d6, for a total probability of 21861/460800 or nearly 5%.<br/><br/>1-3 are of course the big winners here.  They are what you get 1/4 times when you roll your initial d4, plus they get 21861/460800 on larger dice, for a total of 137061/460800 or nearly 30%.<br/><br/>In other words, you'd expect to see a number greater than 7 about one roll in two hundred. I'd call that negligible, myself.<br/><br/>Oh, and it's easy to adapt the explanation above for your weighting scheme.  Just break out the individual cases.  However, given the extremely low probability of anything greater than a d8 ever being rolled, I wouldn't bother.  Call everything bigger 0%.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_194793">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/ccreitz" title="ccreitz"><img alt="ccreitz" class="ProfilePhoto ProfilePhotoMedium" src="http://www.entirelysafeandfun.com/hi5.png"/></a><a class="Username" href="/forums/profile/ccreitz">ccreitz</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194793/#Comment_194793" name="Item_18" rel="nofollow"><time datetime="2009-02-27T12:19:10+00:00" title="February 27, 2009 12:19PM">February 2009</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited February 27, 2009 1:54PM by ccreitz.">edited February 2009</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            For the ORE with no funny dice (hards or wiggles, etc), but generalizing to M-sided dice, you can just use the binomial distribution.  The probability of getting width exactly equal to K on N M-sided dice is:<br/><br/><img alt="N! / (K! * (N-K)!) * (1/M)^K * (1-(1/M))^(N-K)" height="53px" src="http://www.entirelysafeandfun.com/pix/ore-expression.png" width="256px"/><br/><br/>...where "!" is the factorial function.<br/><br/>EDIT: factorial.  Not exponentiation, factorial.  Originally I used an ASCII version of the equation and explained that "^" was exponentiation and "!" was factorial; when I decided to put in a better version of the equation, I accidentally diked out the wrong clause.  Sorry!                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_194810">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/fnord3125" title="fnord3125"><img alt="fnord3125" class="ProfilePhoto ProfilePhotoMedium" src="http://i200.photobucket.com/albums/aa220/fnord3125/23709_530415366954_76303075_31442083_7969789_n.jpg"/></a><a class="Username" href="/forums/profile/fnord3125">fnord3125</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/194810/#Comment_194810" name="Item_19" rel="nofollow"><time datetime="2009-02-27T15:26:43+00:00" title="February 27, 2009  3:26PM">February 2009</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Wow, my brain kind of hurts.  <img alt=":)" class="emoji" height="20" src="/forums/resources/emoji/smile.png" title=":)"/><br/>Thanks for helping me understand this!<br/>It's worth mentioning that my "complicated dice" won't stay at size 4.  I'm pretty sure the way they are going to work is if they jump a size during the roll, they stay at that size afterwards.  So while, yeah, the odds of rolling a d20 (or, hell, even a d10) if you're starting from a d4 are pretty low, if you're starting with a d12, not so much.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li>