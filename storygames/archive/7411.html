<h1>Do you use Troll? (dice probabilities)</h1><div class="Item ItemDiscussion" id="Discussion_7411">\n<div class="Discussion">\n<div class="Item-Header DiscussionHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/AnttiKi" title="AnttiKi"><img alt="AnttiKi" class="ProfilePhoto ProfilePhotoMedium" src="http://www.veljeskunta.info/anttiki/antti4_icon.jpg"/></a><a class="Username" href="/forums/profile/AnttiKi">AnttiKi</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta DiscussionMeta">\n<span class="MItem DateCreated">\n<a class="Permalink" href="http://story-games.com/forums/discussion/7411/do-you-use-troll-dice-probabilities" rel="nofollow"><time datetime="2008-08-24T23:57:05+00:00" title="August 24, 2008 11:57PM">August 2008</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited August 24, 2008 11:57PM by AnttiKi.">edited August 2008</span> </span> <span class="MItem Category"> in <a href="http://story-games.com/forums/categories/stuff-to-watch">Stuff to Watch</a></span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                    So, has anyone trolled? What I mean is:<br/>\n<br/>\n<i>Troll is language for describing dice roll mechanisms, as well as an interpreter which also calculates the probabilities between the different alternatives in the mechanics described.</i><br/>\n<br/>\nAccording to the creator Torben Mogesen, Troll's predecessor Roll has been used by White Wolf to calculate probabilities for several alternative dice-roll mechanisms during the development of the new version of the RPG World of Darkness.<br/>\n<br/>\n(Regardless of that) I've found Troll to be very useful when assessing dice-rolling mechanisms. Has anyone of you used it?<br/>\n<br/>\n<a "="" class="bbcode_url" href="http://www.diku.dk/~torbenm/Troll/" rel="nofollow">Troll's homepages</a><br/>\n<br/>\n<a "="" class="bbcode_url" href="http://www.altgames.org/index.php/Board-RPG/Roleplaying/probabilities-with-Troll.html" rel="nofollow">My blog post on Troll</a> (describes the features of Troll)<br/>\n<br/>\nBTW, to use Troll you'll need to have Moscow ML. You can get it <a "="" class="bbcode_url" href="http://www.itu.dk/people/sestoft/mosml.html" rel="nofollow">here</a>.                </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</div><li class="Item Alt ItemComment" id="Comment_164876">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/NomdePlume" title="NomdePlume"><img alt="NomdePlume" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/applications/dashboard/design/images/defaulticon.png"/></a><a class="Username" href="/forums/profile/NomdePlume">NomdePlume</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/164876/#Comment_164876" name="Item_1" rel="nofollow"><time datetime="2008-08-25T03:57:39+00:00" title="August 25, 2008  3:57AM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            I've tried it, but wasn't able to put the time in to learn properly how to use it. Seemed a pretty steep learning curve.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_164954">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/Dave%20Cleaver" title="Dave Cleaver"><img alt="Dave Cleaver" class="ProfilePhoto ProfilePhotoMedium" src="http://dscleaver.googlepages.com/avatar_small.jpg"/></a><a class="Username" href="/forums/profile/Dave%20Cleaver">Dave Cleaver</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/164954/#Comment_164954" name="Item_2" rel="nofollow"><time datetime="2008-08-25T11:42:37+00:00" title="August 25, 2008 11:42AM">August 2008</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited August 25, 2008 11:43AM by Dave Cleaver.">edited August 2008</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            I just played with it thanks to this post. Using it and Google Docs, I got this curve for one of my latest game ideas:<br><br><img alt="image" src="http://spreadsheets.google.com/pub?key=p2ZGAfyZRsgJQo1Y1Mv7KUA&amp;oid=3&amp;output=image"/> </br></br></div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_164957">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/Adam_Dray" title="Adam_Dray"><img alt="Adam_Dray" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/uploads/userpics/445/n8DFU0XP50I1V.PNG"/></a><a class="Username" href="/forums/profile/Adam_Dray">Adam_Dray</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/164957/#Comment_164957" name="Item_3" rel="nofollow"><time datetime="2008-08-25T11:44:28+00:00" title="August 25, 2008 11:44AM">August 2008</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited August 25, 2008 11:44AM by Adam_Dray.">edited August 2008</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            I used it when it was just Roll, before Prof. Mogensen switched it to Moscow ML. I've done some pretty <a "="" class="bbcode_url" href="http://verge.legendary.org/index.php/Dice_math" rel="nofollow">complex dice calculation </a> for Verge with it. I have a sample program on that page.<br/>\n<br/>\nI haven't looked at Troll.<br/>\n<br/>\nLet me know if you need help writing dice programs.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_165533">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/J%20B%20Bell" title="J B Bell"><img alt="J B Bell" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/applications/dashboard/design/images/defaulticon.png"/></a><a class="Username" href="/forums/profile/J%20B%20Bell">J B Bell</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/165533/#Comment_165533" name="Item_4" rel="nofollow"><time datetime="2008-08-26T23:01:09+00:00" title="August 26, 2008 11:01PM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            I've used Troll quite a bit. Syntactically I think it's rather evil, but there's nothing else out there that comes close for flexibility and power.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_165749">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/boulet" title="boulet"><img alt="boulet" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/uploads/userpics/534/nTWF4B3HT5CT6.jpg"/></a><a class="Username" href="/forums/profile/boulet">boulet</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/165749/#Comment_165749" name="Item_5" rel="nofollow"><time datetime="2008-08-27T12:04:47+00:00" title="August 27, 2008 12:04PM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            w00t I played with troll for an hour, it was like X-mas morning ! <img alt=":D" class="emoji" height="20" src="/forums/resources/emoji/lol.png" title=":D"/><br><br>The syntax isn't impossible but it would help if the language made collections and singletons more distinguishable.                        </br></br></div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_165860">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/AnttiKi" title="AnttiKi"><img alt="AnttiKi" class="ProfilePhoto ProfilePhotoMedium" src="http://www.veljeskunta.info/anttiki/antti4_icon.jpg"/></a><a class="Username" href="/forums/profile/AnttiKi">AnttiKi</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/165860/#Comment_165860" name="Item_6" rel="nofollow"><time datetime="2008-08-27T23:38:41+00:00" title="August 27, 2008 11:38PM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Yes, after playing with easier rolls and collections I've run into some problems, too. I've thought about putting together a tutorial that would illustrate how to use Troll with examples calculating probabilities of dice mechanics of different popular story games. It'll take some thinking about, in particular the Sorcerer dice seem hard to describe in Troll terms.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_165903">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/boulet" title="boulet"><img alt="boulet" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/uploads/userpics/534/nTWF4B3HT5CT6.jpg"/></a><a class="Username" href="/forums/profile/boulet">boulet</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/165903/#Comment_165903" name="Item_7" rel="nofollow"><time datetime="2008-08-28T08:23:19+00:00" title="August 28, 2008  8:23AM">August 2008</time></a> </span>\n<span class="MItem"> <span class="DateUpdated" title="Edited August 28, 2008 8:24AM by boulet.">edited August 2008</span> </span> </div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            I only know the dice mechanics of Sorcerer from what I read on the web. But I tried to model that in Troll. Let's say two players oppose : player1 has i dice, player 2 has j dice and N is number of sides on the dice they chose to use in the game. I model the result as follow :<br><br><code>function compare(a,b) = if (max a)&gt;(max b) then 1 else (if (max a)&lt;(max b) then -1 else call compare(least ((count a)-1) a, least ((count b)-1) b))<br><br>x := I D N; y := J D N; call compare(x,y)<br/></br></br></code><br><br><span style="text-decoration: underline;">convention </span>: 1 is the result if player 1 wins, -1 is when player 2 wins.<br><span style="text-decoration: underline;">disclaimer</span>: some parenthesis may be unnecessary but I don't care to learn Troll operators precedences.<br><br>When I run the case player 1 has a 5d10 pool and player 2 has 4d10 I type the following command :<br>troll -3 filename.txt I=5 J=4 N=10<br>notice the -3 parameter in the command, it limits how many recursive calls to the compare function. It means I consider that the two players won't have more than two ties among their highest dice.<br/><br/>Here are the result I get in this case :<code><br/>   Value    % =                 % &gt;=<br/>     -1 :   42.4252657         100.0<br/>      1 :   57.5747343          57.5747343<br/><br/>Average = 0.151494686    Spread = 0.988458072006  Mean deviation = 0.97704936011</code> </br></br></br></br></br></br></br></br></br></div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_165972">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/boulet" title="boulet"><img alt="boulet" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/uploads/userpics/534/nTWF4B3HT5CT6.jpg"/></a><a class="Username" href="/forums/profile/boulet">boulet</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/165972/#Comment_165972" name="Item_8" rel="nofollow"><time datetime="2008-08-28T14:18:09+00:00" title="August 28, 2008  2:18PM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            When tested with 6d20 against 4d20 my first version of the Sorcerer doesn't get any result after several hours....<br/><br/>I read the manual again, the little <i>details</i> about normalized probabilities and avoiding function calls. So I came with a better strategy (same conventions) :<br/><br/><code>x:= largest 3 (I D N); y:= largest 3 (J D N); if (max x) &gt; (max y) then 1 else if (max x) &lt; (max y) then -1 else if (max(least 2 x))&gt;(max(least 2 y)) then 1 else if (max(least 2 x))&lt;(max(least 2 y)) then -1 else if (min x) &gt; (min y) then 1 else if (min x) &lt; (min y) then -1 else 0</code> </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_165975">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/boulet" title="boulet"><img alt="boulet" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/uploads/userpics/534/nTWF4B3HT5CT6.jpg"/></a><a class="Username" href="/forums/profile/boulet">boulet</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/165975/#Comment_165975" name="Item_9" rel="nofollow"><time datetime="2008-08-28T14:37:06+00:00" title="August 28, 2008  2:37PM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Funny thing about the case of Sorcerer : I read the following in a <a href="http://www.rpg.net/reviews/archive/9/9606.phtml" rel="nofollow">review</a> of the game\n<blockquote>What kind of dice does Sorcerer use? That is entirely up to the players and GM, so long as all the dice are the same type. Just bear in mind that, the more sides your die of choice has, the harder it is for someone with low stats to defeat someone with high stats.<br/></blockquote>\nWell if my model of the game mechanic is right, and Troll is computing right, it seems that it's actually the contrary. I ran three different explorations :\n<ol>\n<li>Player 1 has 8d20 and player 2 has 4d20</li>\n<li>-------------- 8d10 ------------------- 4d10</li>\n<li>-------------- 8d4  -------------------- 4d4</li>\n</ol>\nAnd here are the results : <br/><code>I=8 J=4 N=20<br/>   Value    % =                 % &gt;=<br/>     -1 :   30.2352864731      100.0<br/>      0 :    0.159749216272     69.7647135269<br/>      1 :   69.6049643106       69.6049643106<br/><br/>I=8 J=4 N=10<br/>   Value    % =                 % &gt;=<br/>     -1 :   26.8730521887      100.0<br/>      0 :    1.0238713456       73.1269478113<br/>      1 :   72.1030764657       72.1030764657<br/><br/>I=8 J=4 N=4<br/>   Value    % =                 % &gt;=<br/>     -1 :   17.2243475914      100.0<br/>      0 :    8.6407661438       82.7756524086<br/>      1 :   74.1348862648       74.1348862648<br/></code><br/><br/>74.1% chance of victory against the challenger when using d4 against 69.6% when using d20. It's not a tremendous difference though.                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item ItemComment" id="Comment_166051">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/AnttiKi" title="AnttiKi"><img alt="AnttiKi" class="ProfilePhoto ProfilePhotoMedium" src="http://www.veljeskunta.info/anttiki/antti4_icon.jpg"/></a><a class="Username" href="/forums/profile/AnttiKi">AnttiKi</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/166051/#Comment_166051" name="Item_10" rel="nofollow"><time datetime="2008-08-29T02:26:38+00:00" title="August 29, 2008  2:26AM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            Thank you, Franck! I had conjured up something, but my code was pretty unefficient compared to yours.<br/><br/>In Sorcerer, the degree of success is determined by counting how many of the winner's dice has bigger results than the loser's. Is there any means of taking the degree of success into the equation other than a series of if-then-else clauses?                        </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li><li class="Item Alt ItemComment" id="Comment_166055">\n<div class="Comment">\n<div class="Options">\n</div>\n<div class="Item-Header CommentHeader">\n<div class="AuthorWrap">\n<span class="Author">\n<a class="PhotoWrap" href="/forums/profile/boulet" title="boulet"><img alt="boulet" class="ProfilePhoto ProfilePhotoMedium" src="http://story-games.com/forums/uploads/userpics/534/nTWF4B3HT5CT6.jpg"/></a><a class="Username" href="/forums/profile/boulet">boulet</a> </span>\n<span class="AuthorInfo">\n</span>\n</div>\n<div class="Meta CommentMeta CommentInfo">\n<span class="MItem DateCreated">\n<a class="Permalink" href="/forums/discussion/comment/166055/#Comment_166055" name="Item_11" rel="nofollow"><time datetime="2008-08-29T05:13:34+00:00" title="August 29, 2008  5:13AM">August 2008</time></a> </span>\n</div>\n</div>\n<div class="Item-BodyWrap">\n<div class="Item-Body">\n<div class="Message">\n                            That's a little more difficult... I shall think about it <img alt=":)" class="emoji" height="20" src="/forums/resources/emoji/smile.png" title=":)"/> </div>\n<div class="Reactions"></div> </div>\n</div>\n</div>\n</li>